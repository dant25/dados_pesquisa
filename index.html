<!DOCTYPE html>
<html lang="en">

<head>
	<title>Dota for Life | Gráficos/Estatísticas</title>
	<meta charset="utf-8">
	<link rel="stylesheet" href="css/reset.css" type="text/css" media="screen">
	<link rel="stylesheet" href="css/style.css" type="text/css" media="screen">
	<link rel="stylesheet" href="css/grid.css" type="text/css" media="screen">
	<link href="css/dc.css" rel="stylesheet" type="text/css"> <!-- Gráficos -->

	<script src="js/jquery-1.7.1.min.js" type="text/javascript"></script>
	<script src="js/cufon-yui.js" type="text/javascript"></script>
	<script src="js/cufon-replace.js" type="text/javascript"></script>
	<script src="js/Vegur_300.font.js" type="text/javascript"></script>
	<script src="js/Vegur_500.font.js" type="text/javascript"></script>
	<script src="js/FF-cash.js" type="text/javascript"></script>
	<script type="text/javascript" src="d3/d3.min.js" charset="utf-8"></script>
	<script type="text/javascript" src="js/crossfilter.js"></script>
	<script type="text/javascript" src="js/dc.min.js"></script>
	<script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<!--[if lt IE 9]>
<script type="text/javascript" src="js/html5.js"></script>
<link rel="stylesheet" href="css/ie.css" type="text/css" media="screen">
<![endif]-->
</head>

<body id="page2">
	<div class="main-bg">
		<div class="bg">

			<section id="content">
				<div class="main">
					<div class="container_12">
	

						<!--==============================Corpo================================-->

						<div class="container-bot">
							<div class="container-top">
								<div class="container">
									<div class="wrapper">

										<article class="grid_8">
											<div class="indent-left">
												<!--
                      <div class="wrapper border-bot2">
                        <figure class="img-indent2"><img src="images/page2-img1.png" alt=""></figure>
                        <div class="extra-wrap"> <strong class="text-1">Facebook</strong> <strong class="text-2">Fan Page</strong>
                          <p class="p0"><a class="link-2" href="#">Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie...</a></p>
                        </div>
                      </div>

                      <h3 class="prev-indent-bot">Long-Term Business</h3>

                      <div class="wrapper img-indent-bot">
                        <figure class="img-indent3"><img src="images/page2-img2.png" alt=""></figure>
                        <div class="extra-wrap">
                          <h6>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. </h6>
                          <p>At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna.</p>
                          <a class="button" href="#">Read More</a> </div>
                      </div>
-->
												<h3>Graficos e Estatisticas</h3>

												<p class="indent-bot">Aqui temos os gráficos gerados dos com dados
													obtidos. Vamos tentar mostrar alguns dados que talvez muitos de
													vocês nunca tinham visto.</p>
												<p class="indent-bot">Os gráficos aqui são dinâmicos, ou seja, se
													alteram dependendo dos valores que o usuário seleciona. Isso permite
													os usuários selecionar faixas de valores, ou até mesmo isolar um
													dado em particular para um Herói.</p>
												<p class="border-bot">Estes gráficos foram feito utilizando basicamente
													JavaScript com as bibliotecas D3, DC e Crossfilter.</p>



												<div class='row'>
													<div class='span6' id='dc-dano-chart'>
														<h4> Total de Dano Causado </h4>
														<span>

															<p class="indent-bot">Primeiramente vamos mostrar que temos
																Heróis que podem mais dano que outros. Com isso podemos
																classificar os Heróis como “Carriers”(Assassinos) ou
																Suporte. Quanto menos dano um Herói dar, significa que
																ele provavelmente terá um papel de Suporte no time,
																ajudando os Heróis classificados como “Carry” a obter
																mais itens e a matar os players adversários.</p>

															<p class="indent-bot">Temos então neste gráfico o dano
																causado e quantos Heróis possuem este dano.</p>

															<a class="reset"
																href="javascript:danoChart.filterAll();dc.redrawAll();"
																style="display: none;">
																reset
															</a>
														</span>
													</div>
												</div>

												<div class='row'>
													<div class='span12' id='dc-time-chart'>
														<h4> Quantidade de Kill's Obtidas </h4>
														<span>


															<p class="indent-bot">Este gráfico mostra agora a quantidade
																de Kills que um herói tem e a quantidade de Heróis que
																possuem esta quantidade de Kills.</p>

															<p class="indent-bot">Com isso é possível ver que o Riki é o
																personagem quem mais mata e que o que menos mata é o
																Omniknight. Visivelmente podemos afirmar que o primeiro
																é um “Carry” enquanto o segundo é um Suporte.</p>


															<a class="reset"
																href="javascript:timeChart.filterAll();dc.redrawAll();"
																style="display: none;">
																reset
															</a>
														</span>
													</div>
												</div>

												<div class='row'>
													<div class='span12' id='dc-seleção-chart'>
														<h4> Quantidade total de utilizações</h4>
														<span>

															<p class="indent-bot">Este gráfico mostra apenas o nome do
																personagem que quantas vezes ele já foi selecionado
																desde sua inserção no jogo. Este gráfico é apenas um
																complemento para os outros, como a ajuda de outros
																gráficos podemos ter a informação do dano ou a
																quantidade de Kills de um determinado Herói.</p>

															<a class="reset"
																href="javascript:selecaoChart.filterAll();dc.redrawAll();"
																style="display: none;">
																reset
															</a>
														</span>
													</div>
												</div>

												<div class='row'>
													<div class='span12' id='dc-morteKill-chart'>
														<h4> Morte vs Kill</h4>
														<span>

															<p class="indent-bot">Uma medida bem simples de fazer é
																relacionar Kills com Mortes. Vamos pegar a quantidade de
																vezes que um personagem matou e dividir pela quantidade
																de vezes que ele morreu. Se o valor ficar abaixo de 1
																significa que ele morreu mais que matou. Caso contrário
																significa que ele teve um saldo positivo no jogo, ou
																seja, matou mais que morreu durante uma partida.</p>

															<p class="indent-bot">Morrer mais que matar é aceitável
																apenas para Heróis que são suporte. Já para os Heróis
																classificados como “Carries” um aproveitamento acima de
																2 é ótimo. Isso significa que ao final ele matou 2 vezes
																mais que morreu.</p>


															<a class="reset"
																href="javascript:morteKillChart.filterAll();dc.redrawAll();"
																style="display: none;">
																reset
															</a>
														</span>
													</div>
												</div>

												<div class='row'>
													<div class='span12' id='dc-seleçãoKillChart-chart'>
														<h4> Vezes selecionado por Kill</h4>
														<span>

															<p class="indent-bot">Tendo as informações acima, vamos
																então relacionar a quantidade de vezes que um personagem
																é selecionado e ver quantas vezes este personagem matou
																outros Heróis numa partida.</p>

															<p class="indent-bot">Da para perceber que não dá para
																extrair muitas informações deste gráfico, ou seja, não
																podemos relacionar estes dados sem outras informações.
																Vamos então colocar a informação de Aproveito. Nem
																sempre matar significa ganhar, então vamos ver nos
																próximo gráfico quais personagem são mais escolhidos.
															</p>

															<a class="reset"
																href="javascript:selecaoKillChart.filterAll();dc.redrawAll();"
																style="display: none;">
																reset
															</a>
														</span>
													</div>
												</div>

												<div class='row'>
													<div class='span12' id='dc-aproveitamentoPizzaChart-chart'>
														<h4>Heróis por aproveitamento</h4>

														<p class="indent-bot">Creio que você já se perguntou: “Quais
															heróis são mais utilizados?”. Uma possível relação que pode
															existir é, quanto mais vezes um herói ganha uma partida,
															mais vezes ele será selecionado. Logo, se fossemos agrupar
															os dados por Aproveitamento, teríamos que os heróis com
															maior valor de aproveitamento era para ser um dos mais
															selecionados.</p>
														<span>
															<a class="reset"
																href="javascript:aproveitamentoPizzaChart.filterAll();dc.redrawAll();"
																style="display: none;">
																reset
															</a>
														</span>
													</div>

													<p class="indent-bot">Para facilitar a visualização vou listar
														apenas as 5 maiores faixas de valores com mais heróis
														selecionados. Com isso podemos concluir que os heróis mais
														utilizados são aqueles que tem um aproveitamento de 48%, 50%,
														52% e 53%.</p>

													<div class='span12' id='dc-aproveitamento2PizzaChart-chart'>
														<span>
															<a class="reset"
																href="javascript:aproveitamento2PizzaChart.filterAll();dc.redrawAll();"
																style="display: none;">
																reset
															</a>
														</span>
													</div>

													<p class="indent-bot">O estranho é que temos heróis com
														aproveitamento muito maior mas não são tão selecionados como
														outros. Temos apenas 3 heróis na faixa de aproveitamento de 58%,
														59% e 61% respectivamente. Porém, eles foram selecionados
														pouquíssimas vezes quando comparado com os outros.</p>

													<p class="indent-bot">Se formos analisar estes heróis com
														aproveitamento muito alto (Abaddon, Necrophos, Omniknight,
														Spectre, Wrating King e Zeus), dá para se perceber que no
														gráfico de Morte vs Kill que todos eles estão na faixa de 1,0,
														alguns para menos outros para mais. Podemos concluir que
														selecionar apenas estes heróis numa partida não seria muito bom
														porquê não teríamos nenhum herói verdadeiramente “Carry” para
														matar muito e morrer pouco. Combinando esses heróis com outros
														teríamos sim um bom time.</p>

												</div>

												<div class='row'>
													<div class='span12' id='dc-kda-chart'>
														<h4>Aproveitamento por KDA</h4>
														<span>

															<p class="indent-bot">Outra forma de avaliar um personagem é
																ver seu valor de KDA. Este valor é uma média da
																quantidade de vezes que ele mata, morre e que ajuda a
																matar. Quanto maior esse valor melhor será.</p>

															<p class="indent-bot">O gráfico abaixo mostra o valor do KDA
																pelo aproveitamento de cada Herói.</p>

															<a class="reset"
																href="javascript:KDAChart.filterAll();dc.redrawAll();"
																style="display: none;">
																reset
															</a>
														</span>
													</div>
												</div>

												<div class='row'>
													<div class='span12' id='dc-last-chart'>
														<h4>Aproveitamento por Finalizações</h4>
														<span>

															<p class="indent-bot">O gráfico abaixo mostra a quantidade
																de “Creeps” mortas pelo aproveitamento de cada Herói.
																Quanto mais “Creeps” um personagem mata, mais
																experiência e dinheiro ele terá para comprar itens e
																ficar assim melhor na partida.</p>

															<a class="reset"
																href="javascript:LastChart.filterAll();dc.redrawAll();"
																style="display: none;">
																reset
															</a>
														</span>
													</div>

													<p class="indent-bot">Deu para notar que o gráfico do Aproveitamento
														por KDA está muito parecido com o de Aproveitamento por
														Finalizações. Isso faz sentido, já que quanto mais você mata
														“Creeps” mais experiência e dinheiro terá. Isso lhe dará itens
														bons e como consequência disto você terá mais facilidade de
														matar inimigos, com isso seu valor de KDA irá subir.</p>

													<p class="indent-bot">Heróis com alto nível de “Creeps” finalizados
														tendem a ser “Carries” e como consequência disto, personagem
														“Carries” tendem a ter altos níveis de KDA. Podemos então medir
														um bom “Carrie” pelo seu KDA.</p>


												</div>




											</div>
										</article>
										<!--==============================Lado Direito================================-->

									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>
		</div>
	</div>
	<script type="text/javascript">Cufon.now();</script>
</body>

</html>

















<script type="text/javascript">

	// Create the dc.js chart objects & link to div
	var danoChart = dc.barChart("#dc-dano-chart");
	var timeChart = dc.barChart("#dc-time-chart");
	var selecaoChart = dc.barChart("#dc-seleção-chart");
	var morteKillChart = dc.barChart("#dc-morteKill-chart");
	var selecaoKillChart = dc.lineChart("#dc-seleçãoKillChart-chart");
	var aproveitamentoPizzaChart = dc.pieChart("#dc-aproveitamentoPizzaChart-chart");
	var aproveitamento2PizzaChart = dc.pieChart("#dc-aproveitamento2PizzaChart-chart");
	var KDAChart = dc.lineChart("#dc-kda-chart");
	var LastChart = dc.lineChart("#dc-last-chart");


	// load data from a csv file
	//d3.csv("https://dl.dropboxusercontent.com/u/4931793/dota.csv", function(data){
	d3.csv("./dota.csv", function (data) {
		var id = 0

		data.forEach(function (d) {
			d.Heroi = d.Heroi
			d.Partidas_jogadas = d3.round(+d.Partidas_jogadas, 0)
			d.Aproveitamento = d3.round(+d.Aproveitamento, 2)
			d.KDA = d3.round(+d.KDA, 1)
			d.Kill = d3.round(+d.Kill, 1)
			d.Mortes = d3.round(+d.Mortes, 1)
			d.Assistencias = d3.round(+d.Assistencias, 0)
			d.Hero_Damage_Minute = d3.round(+d.Hero_Damage_Minute, 0)
			d.Hero_Healing_Minute = d3.round(+d.Hero_Healing_Minute, 0)
			d.Tower_Damage_Minute = d3.round(+d.Tower_Damage_Minute, 0)
			d.Last_Hits_10Minutes = d3.round(+d.Last_Hits_10Minutes, 2)
			d.Denies_10Minutes = d3.round(+d.Denies_10Minutes, 2)
			d.Id = +id
			id++
		});
		//console.log(data);

		// Run the data through crossfilter and load our 'facts'
		var facts = crossfilter(data);

		//----------------------------------------------

		var IdValue = facts.dimension(function (d) {
			return +d.Id;
		});

		var heroiValue = facts.dimension(function (d) {
			return String(d.Heroi);
		});

		var partidasValue = facts.dimension(function (d) {
			return +d.Partidas_jogadas
		});

		var aproveitamentoValue = facts.dimension(function (d) {
			return d.Aproveitamento
		});

		var aproveitamentoValueTex = facts.dimension(function (d) {
			return "Aprov. " + d3.round(+d.Aproveitamento, 0) + "%";
		});

		var kdaValue = facts.dimension(function (d) {
			return d.KDA
		});

		var mortesValue = facts.dimension(function (d) {
			return d.Mortes
		});

		var killValue = facts.dimension(function (d) {
			return d.Kill
		});

		var assistenciasValue = facts.dimension(function (d) {
			return d.Assistencias
		});

		var damageValue = facts.dimension(function (d) {
			return d.Hero_Damage_Minute
		});

		var healingValue = facts.dimension(function (d) {
			return d.Hero_Healing_Minute
		});

		var towerDamageValue = facts.dimension(function (d) {
			return d.Tower_Damage_Minute
		});

		var lastHitsValue = facts.dimension(function (d) {
			return d.Last_Hits_10Minutes
		});

		var deniesValue = facts.dimension(function (d) {
			return d.Denies_10Minutes
		});
		//----------------------------------------------

		var sumHeroiValue = heroiValue.group().reduceSum(function (d) { return d.Partidas_jogadas; });
		var sumMortesValue = killValue.group().reduceSum(function (d) { return d.Kill / d.Mortes; });
		var sumkillValue = partidasValue.group().reduceSum(function (d) { return +d.Kill; });
		var sumKDAValue = aproveitamentoValue.group().reduceSum(function (d) { return +d.KDA; });
		var sumLastValue = aproveitamentoValue.group().reduceSum(function (d) { return +d.Last_Hits_10Minutes; });

		var heroiValueGroupCount = heroiValue.group(); // counts
		var partidasValueGroupCount = partidasValue.group(); // counts
		var aproveitamentoValueGroupCount = aproveitamentoValue.group(); // counts
		var aproveitamentoValueGroupCountTex = aproveitamentoValueTex.group(); // counts
		var kdaValueGroupCount = kdaValue.group(); // counts
		var killValueGroupCount = killValue.group(); // counts
		var assistenciasValueGroupCount = assistenciasValue.group(); // counts
		var damageValueGroupCount = damageValue.group(); // counts
		var healingValueGroupCount = healingValue.group(); // counts
		var towerDamageValueGroupCount = towerDamageValue.group(); // counts
		var lastHitsValueGroupCount = lastHitsValue.group(); // counts
		var deniesValueGroupCount = deniesValue.group(); // counts


		//----------------------------------------------
		//----------------------------------------------    

		danoChart
			.width(768)
			.height(300)
			.mouseZoomable(false)
			.margins({ top: 10, right: 10, bottom: 40, left: 40 })
			.dimension(damageValue)	//EIXO X
			.group(damageValueGroupCount)	//EIXO Y
			.transitionDuration(500)
			.renderHorizontalGridLines(true)
			.centerBar(true)
			.gap(70)
			.brushOn(true)
			.x(d3.scale.linear().domain([120.0, 530.0]))
			.elasticY(false)
			.xAxisLabel("Dano causado por Minuto")
			.yAxisLabel("Quantidade de Herois")
			.xAxis()
			.tickFormat();


		//----------------------------------------------
		//----------------------------------------------


		timeChart
			.width(768)
			.height(300)
			.transitionDuration(500)
			.mouseZoomable(false)
			.margins({ top: 10, right: 10, bottom: 40, left: 40 })
			.dimension(killValue)		//EIXO X
			.group(killValueGroupCount)	//EIXO Y
			.brushOn(true)			// added for title
			.renderHorizontalGridLines(true)
			.centerBar(true)
			.gap(70)
			.elasticY(false)
			.x(d3.scale.linear().domain([3.0, 13.0]))
			.xAxisLabel("Quantidade de kill's")
			.yAxisLabel("Quantidade de Herois")
			.xAxis();


		//----------------------------------------------
		//----------------------------------------------


		selecaoChart
			.title(function (d) {
				return d.value;
			})
			.width(768)
			.height(480)
			.transitionDuration(500)
			.mouseZoomable(false)
			.margins({ top: 10, right: 10, bottom: 60, left: 80 })
			.x(d3.scale.ordinal())
			.xUnits(dc.units.ordinal)
			.renderHorizontalGridLines(true)
			.brushOn(false)
			.elasticY(false)
			.yAxisLabel("Utilizações")
			.barPadding(0.1)
			.outerPadding(0.5)
			.dimension(heroiValue)	//EIXO X
			.group(sumHeroiValue)		//EIXO Y
			.xAxis().orient("top")
			.tickFormat();
		//FAZ LEGENDA FICAR NA VERTICAL
		selecaoChart.renderlet(function (chart) { chart.selectAll('g.x text').attr('transform', 'translate(11, -25) rotate(-90)'); });

		//----------------------------------------------
		//----------------------------------------------

		morteKillChart
			.title(function (d) {
				return d.value;
			})
			.width(768)
			.height(300)
			.transitionDuration(500)
			.x(d3.scale.linear().domain([3.0, 13.0]))
			.renderHorizontalGridLines(true)
			.gap(70)
			.brushOn(true)
			.xAxisLabel("Quantidade de kills")
			.yAxisLabel("Quantidade de Kills/Mortes")
			.dimension(killValue)		//EIXO X
			.group(sumMortesValue);			//EIXO Y


		//----------------------------------------------
		//----------------------------------------------
		//console.log(d.Kill);
		selecaoKillChart
			.width(768)
			.height(480)
			.mouseZoomable(false)
			//.margins({top: 10, right: 10, bottom: 40, left: 40})
			.dimension(partidasValue)		//EIXO X
			.group(sumkillValue)			//EIXO Y
			.ordering(sumkillValue)
			.renderHorizontalGridLines(true)
			.transitionDuration(500)
			.brushOn(true)
			.x(d3.scale.linear().domain([850000, 9300000]))
			.elasticY(false)
			.xAxisLabel("Dano causado por Minuto")
			.yAxisLabel("Quantidade de Kills")
			.xAxis()
			.tickFormat();


		//----------------------------------------------
		//----------------------------------------------

		aproveitamentoPizzaChart
			.width(768)
			.height(480)
			.transitionDuration(500)
			//.slicesCap(5)
			.innerRadius(60)
			.dimension(aproveitamentoValueTex)				//EIXO X
			.group(aproveitamentoValueGroupCountTex)			//EIXO Y
			.legend(dc.legend());


		//----------------------------------------------
		//----------------------------------------------


		aproveitamento2PizzaChart
			.width(768)
			.height(480)
			.transitionDuration(500)
			.slicesCap(5)
			.innerRadius(60)
			.dimension(aproveitamentoValueTex)				//EIXO X
			.group(aproveitamentoValueGroupCountTex)			//EIXO Y
			.legend(dc.legend());


		//----------------------------------------------
		//----------------------------------------------


		KDAChart
			.width(768)
			.height(300)
			.transitionDuration(500)
			.mouseZoomable(false)
			.margins({ top: 10, right: 10, bottom: 40, left: 40 })
			.dimension(aproveitamentoValue)		//EIXO X
			.group(sumKDAValue)			//EIXO Y
			.brushOn(true)				// added for title
			.renderHorizontalGridLines(true)
			//.elasticY(false)
			.x(d3.scale.linear().domain([40.0, 62.0]))
			.xAxisLabel("Aproveitamento")
			.yAxisLabel("KDA")
			.xAxis();


		//----------------------------------------------
		//----------------------------------------------


		LastChart
			.width(768)
			.height(300)
			.transitionDuration(500)
			.mouseZoomable(false)
			.margins({ top: 10, right: 10, bottom: 40, left: 40 })
			.dimension(aproveitamentoValue)		//EIXO X
			.group(sumLastValue)			//EIXO Y
			.brushOn(true)				// added for title
			.renderHorizontalGridLines(true)
			//.elasticY(false)
			.x(d3.scale.linear().domain([40.0, 62.0]))
			.xAxisLabel("Aproveitamento")
			.yAxisLabel("Finalizações em Creeps")
			.xAxis();


		// Render the Charts
		dc.renderAll();

	});
</script>
